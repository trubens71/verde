<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.8.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "vconcat": [{"hconcat": [{"layer": [{"mark": {"type": "circle", "size": 25, "xOffset": -15}, "encoding": {"color": {"condition": {"value": "steelblue", "selection": {"or": ["selector011", "selector012"]}}, "value": "lightgray"}, "href": {"type": "nominal", "field": "link"}, "tooltip": [{"type": "nominal", "field": "link"}], "x": {"type": "ordinal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "set"}, "y": {"type": "ordinal", "field": "rank"}}, "height": {"step": 30}, "selection": {"selector014": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "visualisation rankings", "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}, {"calculate": "'trial_04_ut.exp_02_view_one_vl.html?vl_json=' + datum.vl_spec_file", "as": "link"}, {"filter": "(datum.set === 'baseline')"}], "width": 250}, {"mark": {"type": "circle", "size": 25, "xOffset": 15}, "encoding": {"color": {"condition": {"value": "steelblue", "selection": {"or": ["selector011", "selector012"]}}, "value": "lightgray"}, "href": {"type": "nominal", "field": "link"}, "tooltip": [{"type": "nominal", "field": "link"}], "x": {"type": "ordinal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "set"}, "y": {"type": "ordinal", "field": "rank"}}, "height": {"step": 30}, "selection": {"selector015": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "visualisation rankings", "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}, {"calculate": "'trial_04_ut.exp_02_view_one_vl.html?vl_json=' + datum.vl_spec_file", "as": "link"}, {"filter": "(datum.set === 'verde')"}], "width": 250}, {"data": {"url": "trial_04_ut.exp_02_view_compare_match.csv"}, "mark": "line", "encoding": {"color": {"condition": {"type": "nominal", "field": "crossed", "legend": {"orient": "bottom"}, "scale": {"domain": ["not", "with_equal_cost", "with_different_cost"], "range": ["steelblue", "green", "red"]}, "selection": {"or": ["selector011", "selector012"]}}, "value": "lightgray"}, "detail": [{"type": "nominal", "field": "match"}, {"type": "nominal", "field": "match_type"}], "strokeDash": {"type": "nominal", "field": "match_type", "legend": {"orient": "bottom"}, "scale": {"domain": ["verde_addition", "exact"], "range": [[5, 4], [1, 0]]}}, "x": {"type": "ordinal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "set"}, "y": {"type": "ordinal", "field": "rank"}}, "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}]}, {"data": {"url": "trial_04_ut.exp_02_view_compare_model.csv"}, "mark": {"type": "rule", "strokeWidth": 2}, "encoding": {"color": {"condition": {"value": "steelblue", "selection": {"or": ["selector011", "selector012"]}}, "value": "lightgray"}, "tooltip": [{"type": "quantitative", "field": "cost"}, {"type": "ordinal", "field": "min_rank"}, {"type": "ordinal", "field": "max_rank"}], "x": {"type": "ordinal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "set"}, "y": {"type": "ordinal", "field": "min_rank"}, "y2": {"field": "max_rank"}}, "height": {"step": 30}, "selection": {"selector016": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "visualisation rankings", "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}, {"calculate": "'trial_04_ut.exp_02_view_one_vl.html?vl_json=' + datum.vl_spec_file", "as": "link"}, {"aggregate": [{"op": "min", "field": "rank", "as": "min_rank"}, {"op": "max", "field": "rank", "as": "max_rank"}], "groupby": ["set", "cost"]}], "width": 250}, {"data": {"url": "trial_04_ut.exp_02_view_compare_model.csv"}, "mark": {"type": "square", "size": 150}, "encoding": {"color": {"condition": {"value": "steelblue", "selection": {"or": ["selector011", "selector012"]}}, "value": "lightgray"}, "opacity": {"type": "ordinal", "field": "has_match", "legend": null}, "tooltip": [{"type": "nominal", "field": "set"}, {"type": "nominal", "field": "rank"}, {"type": "quantitative", "field": "cost"}], "x": {"type": "ordinal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "set"}, "y": {"type": "ordinal", "axis": {"title": null}, "field": "rank"}}, "height": {"step": 30}, "selection": {"selector011": {"type": "multi", "fields": ["set", "rank"]}, "selector012": {"type": "interval"}, "selector013": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "visualisation rankings", "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}, {"calculate": "'trial_04_ut.exp_02_view_one_vl.html?vl_json=' + datum.vl_spec_file", "as": "link"}], "width": 250}], "data": {"url": "trial_04_ut.exp_02_view_compare_model.csv"}}, {"data": {"url": "trial_04_ut.exp_02_view_compare_violations.csv"}, "mark": {"type": "circle", "color": "red"}, "encoding": {"opacity": {"type": "quantitative", "field": "weight", "legend": null, "scale": {"range": [0, 1]}}, "size": {"type": "quantitative", "field": "num", "legend": null}, "tooltip": [{"type": "nominal", "field": "set"}, {"type": "quantitative", "field": "rank"}, {"type": "nominal", "field": "violation"}, {"type": "quantitative", "field": "num"}, {"type": "quantitative", "field": "weight"}, {"type": "quantitative", "field": "cost_contrib"}], "x": {"type": "nominal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "set"}, "y": {"type": "nominal", "axis": {"title": null}, "field": "violation"}}, "selection": {"selector017": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "soft rule violations (x-set)", "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}, {"filter": {"selection": "selector011"}}, {"filter": {"selection": "selector012"}}], "width": {"step": 40}}, {"data": {"url": "trial_04_ut.exp_02_view_compare_props.csv"}, "mark": {"type": "circle", "color": "green", "size": 50}, "encoding": {"tooltip": [{"type": "nominal", "field": "prop"}], "x": {"type": "nominal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "set"}, "y": {"type": "nominal", "axis": {"title": null}, "field": "prop"}}, "selection": {"selector019": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "specification terms (x-set)", "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}, {"filter": {"selection": "selector011"}}, {"filter": {"selection": "selector012"}}], "width": {"step": 40}}]}, {"hconcat": [{"data": {"url": "trial_04_ut.exp_02_view_compare_violations.csv"}, "mark": {"type": "circle", "color": "red"}, "encoding": {"opacity": {"type": "quantitative", "field": "weight", "legend": null, "scale": {"range": [0, 1]}}, "size": {"type": "quantitative", "field": "num", "legend": null}, "tooltip": [{"type": "nominal", "field": "set"}, {"type": "quantitative", "field": "rank"}, {"type": "nominal", "field": "violation"}, {"type": "quantitative", "field": "num"}, {"type": "quantitative", "field": "weight"}, {"type": "quantitative", "field": "cost_contrib"}], "x": {"type": "nominal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "rank"}, "y": {"type": "nominal", "axis": {"title": null}, "field": "violation"}}, "selection": {"selector018": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "soft rule violations (x-rank)", "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}, {"filter": {"selection": "selector011"}}, {"filter": {"selection": "selector012"}}], "width": {"step": 30}}, {"data": {"url": "trial_04_ut.exp_02_view_compare_props.csv"}, "mark": {"type": "circle", "color": "green", "size": 50}, "encoding": {"tooltip": [{"type": "nominal", "field": "prop"}], "x": {"type": "nominal", "axis": {"labelAngle": 0, "labelPadding": 5, "orient": "top", "title": null}, "field": "rank"}, "y": {"type": "nominal", "axis": {"title": null}, "field": "prop"}}, "selection": {"selector020": {"type": "interval", "bind": "scales", "encodings": ["x", "y"]}}, "title": "specification terms (x-rank)", "transform": [{"calculate": "format(datum.rank,'03')", "as": "rank"}, {"filter": {"selection": "selector011"}}, {"filter": {"selection": "selector012"}}], "width": {"step": 30}}]}], "title": "trial_04_ut.exp_02 2020-11-14 10:43:42", "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json"};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>